{% extends "base.html" %}

{% block title %}
Profile
{% endblock %}

{% block body %}

{% set messages = get_flashed_messages() %}
{% for message in messages %}
<h3>{{message}}</h3>
{% endfor %}

<div id="userinfo">
  <h2>Profile</h2>
  Name: {{name}} <br>
  Username: {{username}} <br>
  UserID: {{userID}} <br>
</div>

<div class="tabby-container">
  <ul class="nav nav-tabs" role="tablist" id="tabs">
    <li class="nav-item active"><a class="nav-link" data-toggle="tab" href="#stats">stats</a></li>
    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#play">Play</a></li>
    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#admin">Admin</a></li>
  </ul>

  <div class="tab-content">

    <div id="stats" class="tab-pane fade in active">
      <h3>Stats</h3>
      <svg id="chart"></svg>
      <ul>Games You've Played:
        {% for game in games %}
        <li>{{game}}</li>
        {% endfor %}
      </ul>
    </div>

    <div id="play" class="tab-pane fade">
      <h3>Games You're Playing</h3>
      <ul id="playing">
        {% for game in playing %}
        <li> {{game}} </li>
        {% endfor %}
      </ul>
    </div>

    <div id="admin" class="tab-pane fade">
      <h3>Games You're Managing</h3>
      <ul id="managing">
        {% for game in games %}
        <li> {{game}} </li>
        {% endfor %}
      </ul>
    </div>

  </div>

</div>
{% endblock %}

{% block js %}
<script>
  $('#myTab a').on('click', function (e) {
  e.preventDefault()
  $(this).tab('show')
  })

  $('#tabs a[href="#stats"]').tab('show')
  $('#tabs a[href="#play"]').tab('show')
  $('#tabs li:first-child a').tab('show')
  $('#tabs li:last-child a').tab('show')
  $('#tabs li:nth-child(3) a').tab('show')
</script>
{% endblock %}
